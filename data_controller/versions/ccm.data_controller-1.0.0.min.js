(()=>{const e={name:"data_controller",version:[1,0,0],ccm:"https://ccmjs.github.io/ccm/versions/ccm-25.5.3.min.js",config:{helper:["ccm.load","https://ccmjs.github.io/akless-components/modules/versions/helper-5.1.0.mjs"],hash:["ccm.load","https://ccmjs.github.io/akless-components/modules/md5.mjs"],domains_websites_mapping:["ccm.store",{name:"fbroeh2s_domains_websites_mapping",url:"https://ccm2.inf.h-brs.de"}],websites:["ccm.store",{name:"fbroeh2s_websites",url:"https://ccm2.inf.h-brs.de"}],users:["ccm.store",{name:"fbroeh2s_users",url:"https://ccm2.inf.h-brs.de"}]},Instance:function(){let e;this.ready=(async()=>{e=Object.assign({},this.ccm.helper,this.helper)}),this.start=(async()=>{}),this.getWebsiteUsersDataStore=(async e=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_users",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getUserWebsitesDataStore=(async e=>{return await this.ccm.store({name:"fbroeh2s_user_"+this.hash.md5(e)+"_websites",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsiteThemesDataStore=(async e=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_themes",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsiteThemeDefinitionsDataStore=(async(e,t)=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_theme_"+t+"_definitions",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsitePagesDataStore=(async e=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_pages",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsitePageChildrenDataStore=(async(e,t)=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_page_"+t+"_children",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsitePageUrlMappingDataStore=(async(e,t=!1)=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_pages_url_mapping"+(t?"_live":""),url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getWebsiteAppsDataStore=(async e=>{return await this.ccm.store({name:"fbroeh2s_website_"+e+"_apps",url:"https://ccm2.inf.h-brs.de",parent:this})}),this.getUserLocalDataStore=(async e=>{return await this.ccm.store({name:"localDb_"+this.hash.md5(e),parent:this})}),this.getWebsite=(async e=>{let t=await this.websites.get(e);if(null!=t){let s=t.ignore;return s.websiteKey=e,s}return null}),this.getWebsiteFromDomain=(async e=>{let t=await this.domains_websites_mapping.get(this.hash.md5(e));if(null!=t){return this.getWebsite(t.ignore)}return null}),this.getWebsitePermissions=(async(e=!1)=>{let t=[];if(0!=e){t=await this.getWebsiteAdminUsernames(e)}const s=await this.getCurrentWorkingUsername();return t.indexOf(s)<0&&t.push(s),{creator:s,realm:"modularcms",group:t,access:{get:"all",set:"group",del:"group"}}}),this.createWebsite=((e,t)=>new Promise(async(s,i)=>{const a=await this.getCurrentWorkingUsername();if(null==await this.domains_websites_mapping.get(this.hash.md5(e))){const i=await this.websites.set({ignore:{domain:e,baseUrl:t},_:await this.getWebsitePermissions()});await this.domains_websites_mapping.set({key:this.hash.md5(e),ignore:i,_:await this.getWebsitePermissions()}),await this.addUserToWebsite(i,a,"admin");const r=await this.ccm.load({url:"https://modularcms.github.io/modularcms-cabrare-theme/theme.json",method:"GET"}),n=(e,t=null)=>new Promise((s,i)=>{if(!(null==t&&e.type||e.type===t)||void 0===e.name||"string"!=typeof e.name||void 0===e.ccmComponent||"object"!=typeof e.ccmComponent||void 0===e.ccmComponent.url||"string"!=typeof e.ccmComponent.url||void 0===e.ccmComponent.config||"object"!=typeof e.ccmComponent.config||void 0===e.ccmBuilder||"object"!=typeof e.ccmBuilder||void 0===e.ccmBuilder.url||null!=e.ccmBuilder.url&&"string"!=typeof e.ccmBuilder.url||void 0===e.ccmBuilder.config||"object"!=typeof e.ccmBuilder.config)i();else{const i={name:e.name,ccmComponent:e.ccmComponent,ccmBuilder:e.ccmBuilder};"theme"!=t&&(i.type=e.type),s(i)}}),o=await n(r,"theme"),h=await this.createTheme(i,o);let l=null,g=null;for(let e of r.themeDefinitions){const t=await n(e),s=await this.createThemeDefinition(i,h,t);"Plain"==t.name&&(l=s),"Row with columns"==t.name&&(g=s)}const c={parentKey:null,title:"Hello world!",urlPart:"/",meta:{description:"",keywords:"",robots:!0},themeKey:h,themeConfig:{},contentZones:{layout:[{type:"themeDefinition",data:{themeDefinitionType:"layout",themeDefinitionKey:l,ignore:{config:{}}},contentZones:{main:[{type:"themeDefinition",data:{themeDefinitionType:"block",themeDefinitionKey:g,ignore:{config:{}}},contentZones:{column1:[{type:"header",data:{text:"Hello world!",level:1},contentZones:{}},{type:"paragraph",data:{text:"This is a new website made with <b>modularcms</b>."},contentZones:{}}]}}]}}]},changeLog:[]},m=await this.createPage(i,c);await this.publishPage(i,m,"Initial start page commit"),s(i)}else i()})),this.setWebsiteObject=((e,t)=>new Promise(async(s,i)=>{let a=await this.getWebsite(e);if(a.domain!=t.domain){if(null!=await this.domains_websites_mapping.get(this.hash.md5(t.domain)))return void i()}void 0!==t.websiteKey&&delete t.websiteKey,await this.websites.set({key:e,ignore:t,_:await this.getWebsitePermissions(e)}),a.domain!=t.domain&&(await this.domains_websites_mapping.del(this.hash.md5(a.domain)),await this.domains_websites_mapping.set({key:this.hash.md5(t.domain),ignore:e,_:await this.getWebsitePermissions()})),s()})),this.getWebsiteUsers=(async e=>{const t=await this.getWebsiteUsersDataStore(e),s=await t.get();let i=[];for(let e of s){let t=e.ignore;i.push(t)}return i}),this.getWebsiteUser=(async(e,t)=>{const s=await this.getWebsiteUsersDataStore(e);return(await s.get(this.hash.md5(t))).ignore}),this.getWebsiteMemberUsernames=(async e=>{const t=await this.getWebsiteUsers(e);let s=[];for(let e of t)s.push(e.username);return s}),this.getWebsiteAuthorUsernames=(async e=>{const t=await this.getWebsiteUsers(e);let s=[];const i=["author","editor","admin"];for(let e of t)i.indexOf(e.role)>=0&&s.push(e.username);return s}),this.getWebsiteEditorUsernames=(async e=>{const t=await this.getWebsiteUsers(e);let s=[];const i=["editor","admin"];for(let e of t)i.indexOf(e.role)>=0&&s.push(e.username);return s}),this.getWebsiteAdminUsernames=(async e=>{const t=await this.getWebsiteUsers(e);let s=[];for(let e of t)"admin"==e.role&&s.push(e.username);return s}),this.removeWebsite=(async e=>{let t=await this.getWebsite(e);await this.websites.del(e),await this.domains_websites_mapping.del(this.hash.md5(t.domain));const s=await this.getWebsiteUsersDataStore(e),i=await s.get();for(let t of i){s.del(t.key),(await this.getUserWebsitesDataStore(t.ignore.username)).del(e)}}),this.getUserFromUsername=(async e=>{let t=await this.users.get(this.hash.md5(e));if(null!=t){return t.ignore}return null}),this.getUserPermissions=(async()=>{return{creator:await this.getCurrentWorkingUsername(),realm:"modularcms",access:{get:"all",set:"creator",del:"creator"}}}),this.createUser=(e=>new Promise(async(t,s)=>{null==await this.users.get(this.hash.md5(e))?(await this.users.set({key:this.hash.md5(e),ignore:{username:e,image:null},_:await this.getUserPermissions()}),t()):s()})),this.getUserWebsites=(async e=>{const t=await this.getUserWebsitesDataStore(e),s=await t.get();let i=[];for(let e of s)i.push(new Promise(async(t,s)=>{let i=await this.getWebsite(e.key);i.role=e.ignore.role,t(i)}));return await Promise.all(i)}),this.getUserAdminWebsites=(async e=>{return(await this.getUserWebsites(e)).filter(e=>"admin"==e.role)}),this.getUserWebsiteRole=(async(e,t)=>{const s=await this.getUserWebsitesDataStore(e),i=await s.get(t);return null!=i?i.ignore.role:null}),this.setUserObject=(async(e,t)=>{t.username=e,await this.users.set({key:this.hash.md5(e),ignore:t,_:await this.getUserPermissions()})}),this.removeUser=(async e=>{await this.users.del(this.hash.md5(e));const t=await this.getUserWebsitesDataStore(e),s=t.get();for(let i of s){t.del(i.key),(await this.getWebsiteUsersDataStore(i.key)).del(this.hash.md5(e))}}),this.getUserWebsiteMappingPermissions=(async e=>{let t=await this.getWebsiteAdminUsernames(e),s=t;const i=await this.getCurrentWorkingUsername();return t.indexOf(i)<0&&s.push(i),{creator:i,realm:"modularcms",group:s,access:{get:"all",set:"group",del:"group"}}}),this.addUserToWebsite=(async(e,t,s)=>new Promise(async(i,a)=>{if(null!=await this.getUserFromUsername(t)){(await this.getUserWebsitesDataStore(t)).set({key:e,ignore:{username:t,role:s},_:await this.getUserWebsiteMappingPermissions(e)}),(await this.getWebsiteUsersDataStore(e)).set({key:this.hash.md5(t),ignore:{username:t,role:s},_:await this.getUserWebsiteMappingPermissions(e)}),await this.updateUserPermissions(e),i()}else a()})),this.removeUserFromWebsite=(async(e,t)=>{(await this.getUserWebsitesDataStore(t)).del(e),(await this.getWebsiteUsersDataStore(e)).del(this.hash.md5(t)),await this.updateUserPermissions(e)}),this.updateUserPermissions=(async e=>{const t=await this.getWebsite(e);await this.setWebsiteObject(e,t);const s=await this.getAllThemesOfWebsite(e);for(let t of s){await this.setThemeObject(e,t.themeKey,t);const s=await this.getAllThemeDefinitionsOfTheme(e,t.themeKey);for(let i of s)await this.setThemeDefinitionObject(e,t.themeKey,i.themeDefinitionKey,layout)}const i=await this.getAllPagesOfWebsite(e);for(let t of i.filter(e=>!/_live$/.test(e.pageKey))){let s={};Object.assign(s,t),delete s.pageKey,await this.setPageObject(e,t.pageKey,s,!1);const i=await this.getFullPageUrl(e,t.pageKey);if(null!=i){const t=await this.getWebsitePageUrlMappingDataStore(e),s=await t.get(this.hash.md5(i));s._=await this.getPagePermissions(e),await t.set(s)}}for(let t of i.filter(e=>/_live$/.test(e.pageKey))){const s=await this.getWebsitePagesDataStore(e);let i={};Object.assign(i,t),delete i.pageKey,await s.set({key:t.pageKey,ignore:i,_:await this.getPagePublishPermissions(e)});const a=await this.getFullPageUrl(e,t.pageKey);if(null!=a){const t=await this.getWebsitePageUrlMappingDataStore(e,!0),s=await t.get(this.hash.md5(a));s._=await this.getPagePublishPermissions(e),await t.set(s)}}}),this.setUserPermission=(async(e,t,s)=>{await this.addUserToWebsite(e,t,s)}),this.getTheme=(async(e,t)=>{const s=await this.getWebsiteThemesDataStore(e);let i=await s.get(t),a=i.ignore;return a.themeKey=i.key,a}),this.getAllThemesOfWebsite=(async e=>{const t=await this.getWebsiteThemesDataStore(e);let s=await t.get(),i=[];for(let e of s){let t=e.ignore;t.themeKey=e.key,i.push(t)}return i}),this.getThemePermissions=(async(e=!1)=>{let t=[];if(0!=e){t=await this.getWebsiteAdminUsernames(e)}const s=await this.getCurrentWorkingUsername();return t.indexOf(s)<0&&t.push(s),{creator:s,realm:"modularcms",group:t,access:{get:"all",set:"group",del:"group"}}}),this.createTheme=(async(e,t)=>{const s=await this.getWebsiteThemesDataStore(e);return await s.set({ignore:t,_:await this.getThemePermissions(e)})}),this.setThemeObject=(async(e,t,s)=>{const i=await this.getWebsiteThemesDataStore(e);void 0!==s.themeKey&&delete s.themeKey,await i.set({key:t,ignore:s,_:await this.getThemePermissions(e)})}),this.removeTheme=(async(e,t)=>{const s=await this.getWebsiteThemesDataStore(e);await s.del(t)}),this.getThemeDefinition=(async(e,t,s)=>{const i=await this.getWebsiteThemeDefinitionsDataStore(e,t);let a=await i.get(s);if(null!=a){let e=a.ignore;return e.themeDefinitionKey=a.key,e}return null}),this.getAllThemeDefinitionsOfTheme=(async(e,t)=>{const s=await this.getWebsiteThemeDefinitionsDataStore(e,t);let i=await s.get(),a=[];for(let e of i){let t=e.ignore;t.themeDefinitionKey=e.key,a.push(t)}return a}),this.getThemeDefinitionPermissions=(async(e=!1)=>{let t=[];if(0!=e){t=await this.getWebsiteAdminUsernames(e)}const s=await this.getCurrentWorkingUsername();return t.indexOf(s)<0&&t.push(s),{creator:s,realm:"modularcms",group:t,access:{get:"all",set:"group",del:"group"}}}),this.createThemeDefinition=(async(e,t,s)=>{const i=await this.getWebsiteThemeDefinitionsDataStore(e,t);return await i.set({ignore:s,_:await this.getThemeDefinitionPermissions(e)})}),this.setThemeDefinitionObject=(async(e,t,s,i)=>{const a=await this.getWebsiteThemeDefinitionsDataStore(e,t);void 0!==i.themeDefinitionKey&&delete i.themeDefinitionKey,await a.set({key:s,ignore:i,_:await this.getThemeDefinitionPermissions(e)})}),this.removeThemeDefinition=(async(e,t,s)=>{const i=await this.getWebsiteThemeDefinitionsDataStore(e,t);await i.del(s)}),this.getPage=(async(e,t)=>{const s=await this.getWebsitePagesDataStore(e),i=await s.get(t);if(null!=i){let e=i.ignore;return e.pageKey=i.key,e._=i._,e.updated_at=i.updated_at,e.created_at=i.created_at,e}return null}),this.getPageByUrl=(async(e,t,s=!1)=>{const i=await this.getWebsitePageUrlMappingDataStore(e,s),a=await i.get(this.hash.md5(t));if(null!=a){const t=a.ignore;return this.getPage(e,t)}return null}),this.getFullPageUrl=(async(e,t)=>{await this.getWebsitePagesDataStore(e);let s="",i=t;do{let t=await this.getPage(e,i);if(null==t)return null;s=("/"==t.urlPart?"":t.urlPart)+s,i=t.parentKey}while(null!=i);return""==s?"/":s}),this.getPageChildren=(async(e,t)=>{const s=await this.getWebsitePageChildrenDataStore(e,t);let i=await s.get(),a=[];for(let t of i)a.push(this.getPage(e,t.key));return(await Promise.all(a)).filter(e=>null!=e)}),this.getAllPagesOfWebsite=(async e=>{const t=await this.getWebsitePagesDataStore(e);let s=await t.get(),i=[];for(let e of s){let t=e.ignore;t.pageKey=e.key,i.push(t)}return i}),this.getPagePermissions=(async(e=!1)=>{let t=[];if(0!=e){t=await this.getWebsiteEditorUsernames(e)}const s=await this.getCurrentWorkingUsername();t.indexOf(s)<0&&t.push(s);let i=[];if(0!=e){i=await this.getWebsiteMemberUsernames(e)}return{creator:s,realm:"modularcms",group:{editUserGroup:t,getUserGroup:i},access:{get:"getUserGroup",set:"editUserGroup",del:"editUserGroup"}}}),this.getPagePublishPermissions=(async(e=!1)=>{let t=[];if(0!=e){t=await this.getWebsiteEditorUsernames(e)}const s=await this.getCurrentWorkingUsername();return t.indexOf(s)<0&&t.push(s),{creator:s,realm:"modularcms",group:t,access:{get:"all",set:"group",del:"group"}}}),this.createPage=(async(e,t)=>new Promise(async(s,i)=>{const a=await this.getWebsitePageUrlMappingDataStore(e);let r="/";if(null!=t.parentKey){const s=await this.getFullPageUrl(e,t.parentKey);r=("/"==s?"":s)+t.urlPart}if(null==await a.get(this.hash.md5(r))){const i=await this.getWebsitePagesDataStore(e);let n=await i.set({ignore:t,_:await this.getPagePermissions(e)});if(void 0!==t.parentKey&&null!=t.parentKey){const s=await this.getWebsitePageChildrenDataStore(e,t.parentKey);await s.set({key:n,ignore:null,_:await this.getPagePermissions(e)})}await a.set({key:this.hash.md5(r),ignore:n,_:await this.getPagePermissions(e)}),s(n)}else i()})),this.setPageObject=((e,t,s,i=!1)=>new Promise(async(a,r)=>{const n=await this.getCurrentWorkingUsername(),o=await this.getWebsiteUser(e,n),h=await this.getPage(e,t),l=await this.getFullPageUrl(e,t);if("member"!=o.role||"member"==o.role&&h._.creator==n){const o=await this.getWebsitePageUrlMappingDataStore(e);let g="/";if(null!=s.parentKey){const t=await this.getFullPageUrl(e,s.parentKey);g=("/"==t?"":t)+s.urlPart}if(g!=l){if(null!=await o.get(this.hash.md5(g)))return void r("Specified page url is already existing")}void 0!==s.pageKey&&delete s.pageKey,void 0!==s._&&delete s._,void 0!==s.updated_at&&delete s.updated_at,void 0!==s.created_at&&delete s.created_at,!1!==i&&(void 0===s.changeLog&&(s.changeLog=[]),s.changeLog.push({timestamp:(new Date).getTime(),username:n,commitMessage:i,publish:!1}));const c=await this.getWebsitePagesDataStore(e);await c.set({key:t,ignore:s,_:await this.getPagePermissions(e)});const m=await this.getWebsitePageChildrenDataStore(e,h.parentKey);void 0!==h.parentKey&&await m.del(t),void 0!==s.parentKey&&await m.set({key:t,ignore:null,_:await this.getPagePermissions(e)}),l!=g&&await o.del(this.hash.md5(l)),await o.set({key:this.hash.md5(g),ignore:t,_:await this.getPagePermissions(e)}),a()}else r("You're not allowed to save this page")})),this.publishPage=((e,t,s=!1)=>new Promise(async(i,a)=>{const r=await this.getCurrentWorkingUsername(),n=await this.getWebsiteUser(e,r),o=this.getPage(e,t+"_live"),h=await this.getFullPageUrl(e,t+"_live"),l=await this.getWebsitePagesDataStore(e);let g=await this.getPage(e,t);if("member"!=n.role&&"author"!=n.role||"author"==n.role&&g._.creator==r){if(g.parentKey&&(g.parentKey+="_live"),g.parentKey){if(!await this.getPage(e,g.parentKey))return void a("The page can only be published if the parent page was published")}!1!==s&&(void 0===g.changeLog&&(g.changeLog=[]),g.changeLog.push({timestamp:(new Date).getTime(),username:r,commitMessage:s,publish:!0})),await l.set({key:t+"_live",ignore:g,_:await this.getPagePublishPermissions(e)});const n=await this.getWebsitePageChildrenDataStore(e,o.parentKey);if(null!=o&&o.parentKey&&await n.del(o.parentKey),g.parentKey){const s=await this.getWebsitePageChildrenDataStore(e,g.parentKey);await s.set({key:t+"_live",ignore:null,_:await this.getPagePublishPermissions(e)})}const c=await this.getWebsitePageUrlMappingDataStore(e,!0),m=await this.getFullPageUrl(e,t);h!=m&&await c.del(this.hash.md5(h)),await c.set({key:this.hash.md5(m),ignore:t+"_live",_:await this.getPagePublishPermissions(e)}),i()}else a("You're not allowed to publish this page")})),this.removePage=(async(e,t)=>{const s=await this.getPage(e,t),i=await this.getFullPageUrl(e,t),a=await this.getWebsitePagesDataStore(e);if(await a.del(t),await a.del(t+"_live"),void 0!==s.parentKey&&null!=s.parentKey){const i=await this.getWebsitePageChildrenDataStore(e,s.parentKey);await i.del(t)}const r=await this.getWebsitePageUrlMappingDataStore(e),n=await this.getWebsitePageUrlMappingDataStore(e,!0);await Promise.all([r.del(this.hash.md5(i)),n.del(this.hash.md5(i))])}),this.isPagePublishedVersionEqual=(async(e,t)=>{const s=await this.getPage(e,t);null!=s&&(void 0!==s.changeLog&&delete s.changeLog,void 0!==s._&&delete s._,void 0!==s.created_at&&delete s.created_at,void 0!==s.updated_at&&delete s.updated_at,void 0!==s.pageKey&&delete s.pageKey);const i=null==s||this.hash.md5(JSON.stringify(s)),a=await this.getPage(e,t+"_live");null!=a&&(void 0!==a.changeLog&&delete a.changeLog,void 0!==a._&&delete a._,void 0!==a.created_at&&delete a.created_at,void 0!==a.updated_at&&delete a.updated_at,void 0!==a.pageKey&&delete a.pageKey,null!=a.parentKey&&(a.parentKey=a.parentKey.replace("_live","")));const r=null==a||this.hash.md5(JSON.stringify(a));return console.log(s,a),i==r}),this.createWebsiteAppFromDemo=(async(t,s,i,a)=>{let r=await e.dataset(await e.action(i[2]));return await this.createWebsiteApp(t,s,r,a)}),this.createWebsiteAppEmpty=(async(t,s,i)=>{let a=await e.dataset({});return await this.createWebsiteApp(t,s,a,i)}),this.createWebsiteApp=(async(e,t,s,i)=>{let a=await this.getWebsiteAppsDataStore(e);delete s.key,s.meta=i,s._={access:{get:"all",set:"creator",del:"creator"}};let r=await a.set(s);return delete s.key,["ccm.get",{url:"https://ccm2.inf.h-brs.de",name:"fbroeh2s_website_"+e+"_apps"},r]}),this.getWebsiteApp=(async(e,t)=>{let s=await this.getWebsiteAppsDataStore(e);return await s.get(t)}),this.getSelectedWebsiteKey=(async()=>{const e=await this.getCurrentWorkingUsername(),t=await this.getUserLocalDataStore(e);let s=await t.get("selectedWebsite");if(null!=s)return s.ignore;let i=await this.getUserWebsites(e);return i.length>=1?i[0].websiteKey:null}),this.setSelectedWebsiteKey=(async e=>{const t=await this.getCurrentWorkingUsername(),s=await this.getUserLocalDataStore(t);await s.set({key:"selectedWebsite",ignore:e})}),this.removeSelectedWebsiteKey=(async()=>{const e=await this.getCurrentWorkingUsername(),t=await this.getUserLocalDataStore(e);await t.del("selectedWebsite")}),this.getCurrentWorkingUsername=(async()=>{let e=sessionStorage.getItem("ccm-user-modularcms");return null!=e?JSON.parse(e).user:null})}};let t="ccm."+e.name+(e.version?"-"+e.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[t])return window.ccm.files[t]=e;(t=window.ccm&&window.ccm.components[e.name])&&t.ccm&&(e.ccm=t.ccm),"string"==typeof e.ccm&&(e.ccm={url:e.ccm});let s=(e.ccm.url.match(/(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)/)||["latest"])[0];if(window.ccm&&window.ccm[s])window.ccm[s].component(e);else{var i=document.createElement("script");document.head.appendChild(i),e.ccm.integrity&&i.setAttribute("integrity",e.ccm.integrity),e.ccm.crossorigin&&i.setAttribute("crossorigin",e.ccm.crossorigin),i.onload=function(){window.ccm[s].component(e),document.head.removeChild(i)},i.src=e.ccm.url}})();